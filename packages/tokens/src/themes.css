/*
 * Prism Tokens
 * - Design tokens for colors, typography, spacing, radii, motion, etc.
 * - Organized as: (1) Primitives, (2) Semantic
 * - Components should prefer semantic tokens; primitives are the foundation.
 */
@layer tokens {
  /* ========================= 1) PRIMITIVES ========================= */
  :root {
    /* Grayscale (sophisticated neutral foundation) */
    --pr-gray-50: #fafbfc;
    --pr-gray-100: #f4f6f8;
    --pr-gray-200: #e8eaed;
    --pr-gray-300: #d2d6db;
    --pr-gray-400: #9aa0a6;
    --pr-gray-500: #5f6368;
    --pr-gray-600: #3c4043;
    --pr-gray-700: #202124;
    --pr-gray-800: #171717;
    --pr-gray-900: #0d0f10;

    /* Professional accent palette (refined and purposeful) */
    --pr-red-6: #d73502; /* Medical red - serious, clinical */
    --pr-orange-6: #cc6d00; /* Amber warning - professional amber */
    --pr-yellow-6: #b8860b; /* Dark gold - sophisticated warning */
    --pr-lime-6: #557b00; /* Muted olive - natural, subtle */
    --pr-green-6: #0d7a47; /* Forest green - confident, stable */
    --pr-teal-6: #047481; /* Deep teal - medical/tech */
    --pr-cyan-6: #0f5f8c; /* Steel blue - professional */
    --pr-blue-6: #1a5490; /* Navy blue - trustworthy, corporate */
    --pr-indigo-6: #3f3f96; /* Deep indigo - sophisticated */
    --pr-violet-6: #5f3dc4; /* Royal purple - premium */
    --pr-magenta-6: #a61e69; /* Deep magenta - creative, serious */

    /* Font stacks */
    --pr-font-sans: ui-sans-serif, -apple-system, Segoe UI, Roboto,
      'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', 'Segoe UI Emoji',
      'Apple Color Emoji', 'Noto Color Emoji', sans-serif;
    --pr-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      'Liberation Mono', 'Courier New', monospace;

    /* Font sizes (base scale for UI/text) */
    --pr-fs-xs: 12px;
    --pr-fs-sm: 13px;
    --pr-fs-md: 14px;
    --pr-fs-lg: 16px;
    --pr-fs-xl: 18px;
    --pr-fs-2xl: 20px;
    --pr-fs-3xl: 24px;

    /* Font weights & letter spacing */
    --pr-fw-regular: 400;
    --pr-fw-medium: 500;
    --pr-fw-semibold: 600;
    --pr-fw-bold: 700;

    --pr-tracking-tight: -0.01em;
    --pr-tracking-normal: 0;
    --pr-tracking-wide: 0.02em;

    /* Line heights (typographic rhythm) */
    --pr-lh-tight: 1.25;
    --pr-lh-normal: 1.4;
    --pr-lh-loose: 1.6;

    /* Spacing scale (baseline) */
    --pr-space-0: 0;
    --pr-space-1: 2px;
    --pr-space-2: 6px;
    --pr-space-3: 10px;
    --pr-space-4: 14px;
    --pr-space-5: 18px;
    --pr-space-6: 22px;
    --pr-space-7: 26px;

    /* Control heights (component size baseline) */
    --pr-ctl-h-sm: 28px;
    --pr-ctl-h-md: 32px;
    --pr-ctl-h-lg: 36px;

    /* Radii (rounded corners) */
    --pr-radius-sm: 1px;
    --pr-radius-md: 2px;
    --pr-radius-lg: 4px;

    /* Borders */
    --pr-border-weak: 1px solid var(--pr-gray-300);
    --pr-border-strong: 1px solid var(--pr-gray-400);
    --pr-border-w-1: 1px;
    --pr-border-w-2: 2px;

    /* Elevation (shadows) - refined for minimal design */
    --pr-shadow-0: none;
    --pr-shadow-1: 0 1px 2px rgba(0, 0, 0, 0.04), 0 1px 1px rgba(0, 0, 0, 0.06);
    --pr-shadow-2: 0 2px 4px rgba(0, 0, 0, 0.06), 0 4px 6px rgba(0, 0, 0, 0.04);
    --pr-shadow-3: 0 4px 8px rgba(0, 0, 0, 0.08), 0 6px 20px rgba(0, 0, 0, 0.06);

    /* Surface levels (light) */
    --pr-surface-0: var(--pr-surface);
    --pr-surface-1: color-mix(in oklab, var(--pr-surface) 96%, black);
    --pr-surface-2: color-mix(in oklab, var(--pr-surface) 92%, black);
    --pr-surface-3: color-mix(in oklab, var(--pr-surface) 88%, black);

    /* Layer ordering */
    --pr-z-base: 0;
    --pr-z-sticky: 100;
    --pr-z-dropdown: 1000;
    --pr-z-modal: 1100;
    --pr-z-popover: 1200;
    --pr-z-toast: 1300;

    /* Motion durations */
    --pr-dur-100: 100ms;
    --pr-dur-150: 150ms;
    --pr-dur-200: 200ms;
    --pr-dur-250: 250ms;
    --pr-dur-300: 300ms;
    --pr-dur-400: 400ms;
    --pr-dur-600: 600ms;

    /* Motion easings */
    --pr-ease-linear: linear;
    --pr-ease: ease;
    --pr-ease-out-cubic: cubic-bezier(0.215, 0.61, 0.355, 1);
    --pr-ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1);

    /* Focus outline - refined for minimal design */
    --pr-focus-ring: 0 0 0 1px rgba(37, 99, 235, 0.4),
      0 0 0 3px rgba(37, 99, 235, 0.15);

    /* Overlays & Disabled */
    --pr-overlay-weak: rgba(0, 0, 0, 0.04);
    --pr-overlay-strong: rgba(0, 0, 0, 0.08);
    --pr-disabled-opacity: 0.6;
    --pr-disabled-cursor: not-allowed;

    /* Tint percentages for outline/minimal variants */
    --pr-tint-alpha-weak: 12%;
    --pr-tint-alpha-strong: 18%;
  }

  /* =========================== 2) SEMANTIC =========================== */
  :root {
    color-scheme: light dark;
    /* Global semantic surfaces & text */
    --pr-bg: var(--pr-gray-50);
    --pr-surface: #ffffff;
    --pr-fg: var(--pr-gray-900);
    --pr-muted: var(--pr-gray-500);
    --pr-border: var(--pr-gray-300);
    /* Brand intents (foreground on background) */
    --pr-primary: var(--pr-blue-6);
    --pr-on-primary: #ffffff;

    --pr-success: var(--pr-green-6);
    --pr-on-success: #ffffff;

    --pr-warning: var(--pr-orange-6);
    --pr-on-warning: #ffffff;

    --pr-danger: var(--pr-red-6);
    --pr-on-danger: #ffffff;

    --pr-info: var(--pr-indigo-6);
    --pr-on-info: #ffffff;

    /* Neutral (semantic, for subtle UIs such as intent="none") */
    --pr-neutral: var(--pr-gray-200);
    --pr-on-neutral: var(--pr-gray-800);
    --pr-neutral-border: var(--pr-gray-300);
    /* Motion defaults (semantic) */
    --pr-anim-dur: var(--pr-dur-250);
    --pr-anim-ease: var(--pr-ease-out-cubic);
    --pr-anim-dur-fast: var(--pr-dur-150);
    --pr-anim-dur-slow: var(--pr-dur-400);

    /* Hover/Active semantic tokens (light) */
    --pr-primary-hover: color-mix(in oklab, var(--pr-primary) 92%, black);
    --pr-primary-active: color-mix(in oklab, var(--pr-primary) 86%, black);
    --pr-success-hover: color-mix(in oklab, var(--pr-success) 92%, black);
    --pr-success-active: color-mix(in oklab, var(--pr-success) 86%, black);
    --pr-warning-hover: color-mix(in oklab, var(--pr-warning) 92%, black);
    --pr-warning-active: color-mix(in oklab, var(--pr-warning) 86%, black);
    --pr-danger-hover: color-mix(in oklab, var(--pr-danger) 92%, black);
    --pr-danger-active: color-mix(in oklab, var(--pr-danger) 86%, black);
    --pr-info-hover: color-mix(in oklab, var(--pr-info) 92%, black);
    --pr-info-active: color-mix(in oklab, var(--pr-info) 86%, black);

    --pr-neutral-hover: color-mix(in oklab, var(--pr-neutral) 92%, black);
    --pr-neutral-active: color-mix(in oklab, var(--pr-neutral) 86%, black);
  }

  /* Dark theme overrides (supports html[data-theme='dark'], html.dark, and VitePress .dark) */
  :root[data-theme='dark'],
  :root.dark,
  .dark {
    /* Dark theme background and surfaces - deeper, more sophisticated */
    --pr-bg: var(--pr-gray-900); /* #0d0f10 - deep charcoal */
    --pr-surface: var(--pr-gray-800); /* #171717 - elevated dark surface */
    --pr-fg: var(--pr-gray-100); /* #f4f6f8 - soft white text */
    --pr-muted: var(--pr-gray-400); /* #9aa0a6 - muted text */
    --pr-border: var(--pr-gray-700); /* #202124 - subtle borders */

    /* Professional intent colors (dark mode optimized) */
    --pr-primary: #2563eb; /* Deeper blue - trustworthy */
    --pr-on-primary: var(--pr-gray-50); /* High contrast text */

    --pr-success: #10b981; /* Enhanced forest green for dark */
    --pr-on-success: var(--pr-gray-50);

    --pr-warning: #d97706; /* Warmer amber for dark backgrounds */
    --pr-on-warning: var(--pr-gray-50);

    --pr-danger: #dc2626; /* Strong medical red for dark */
    --pr-on-danger: var(--pr-gray-50);

    --pr-info: #6366f1; /* Deep indigo for information */
    --pr-on-info: var(--pr-gray-50);

    /* Surface levels (dark) */
    --pr-surface-0: var(--pr-surface);
    --pr-surface-1: color-mix(in oklab, var(--pr-surface) 92%, white);
    --pr-surface-2: color-mix(in oklab, var(--pr-surface) 88%, white);
    --pr-surface-3: color-mix(in oklab, var(--pr-surface) 84%, white);

    /* Overlays */
    --pr-overlay-weak: rgba(255, 255, 255, 0.06);
    --pr-overlay-strong: rgba(255, 255, 255, 0.12);

    /* Neutral tokens for dark theme - refined grayscale system */
    --pr-neutral: var(--pr-gray-700); /* #202124 - subtle neutral background */
    --pr-on-neutral: var(
      --pr-gray-100
    ); /* #f4f6f8 - readable text on neutral */
    --pr-neutral-border: var(--pr-gray-600); /* #3c4043 - refined border */
    /* Hover/Active semantic tokens (dark) */
    --pr-primary-hover: color-mix(in oklab, var(--pr-primary) 92%, black);
    --pr-primary-active: color-mix(in oklab, var(--pr-primary) 86%, black);
    --pr-success-hover: color-mix(in oklab, var(--pr-success) 92%, black);
    --pr-success-active: color-mix(in oklab, var(--pr-success) 86%, black);
    --pr-warning-hover: color-mix(in oklab, var(--pr-warning) 92%, black);
    --pr-warning-active: color-mix(in oklab, var(--pr-warning) 86%, black);
    --pr-danger-hover: color-mix(in oklab, var(--pr-danger) 92%, black);
    --pr-danger-active: color-mix(in oklab, var(--pr-danger) 86%, black);
    --pr-info-hover: color-mix(in oklab, var(--pr-info) 92%, black);
    --pr-info-active: color-mix(in oklab, var(--pr-info) 86%, black);

    --pr-neutral-hover: color-mix(in oklab, var(--pr-neutral) 92%, black);
    --pr-neutral-active: color-mix(in oklab, var(--pr-neutral) 86%, black);
  }

  /* High contrast tweaks - enhanced for minimal design */
  :root[data-contrast='high'] {
    --pr-border: var(--pr-gray-400);
    --pr-focus-ring: 0 0 0 2px rgba(37, 99, 235, 0.6),
      0 0 0 4px rgba(37, 99, 235, 0.2);
  }

  /* Baseline document styles consuming semantic tokens */
  html,
  body {
    background: var(--pr-bg);
    color: var(--pr-fg);
    font-family: var(--pr-font-sans);
    font-size: var(--pr-fs-md);
    line-height: var(--pr-lh-normal);
  }
  *:focus-visible {
    outline: none;
    box-shadow: var(--pr-focus-ring);
  }

  /* Optional helper: smoother hover transitions on capable devices */
  @media (hover: hover) and (pointer: fine) {
    .pr-hover {
      transition: background-color var(--pr-dur-200) var(--pr-ease),
        color var(--pr-dur-200) var(--pr-ease),
        opacity var(--pr-dur-200) var(--pr-ease);
    }
  }

  /* Respect reduced motion: collapse animations globally */
  @media (prefers-reduced-motion: reduce) {
    :root {
      --pr-anim-dur: 1ms;
      --pr-dur-100: 1ms;
      --pr-dur-150: 1ms;
      --pr-dur-200: 1ms;
      --pr-dur-250: 1ms;
      --pr-dur-300: 1ms;
      --pr-dur-400: 1ms;
      --pr-dur-600: 1ms;
    }
    * {
      animation: none !important;
      transition-duration: 1ms !important;
      scroll-behavior: auto !important;
    }
  }
}
